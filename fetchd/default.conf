[credentials]
cookie = /home/pdmvserv/prod_cookie.txt

[pmp]
db = http://localhost:9200/
last_seq = http://localhost:9200/last_sequences/last_seq/
last_seq_mapping = {"properties": {"time": {"type": "long"}, "val": {"type": "keyword"}}}

[exclude]
list = _design/lucene, _design/requests, _design/unique, _design/crap, _design/chained_requests, _design/chained_campaigns, _design/campaigns, _design/stats, _design/flows, _design/designDoc, _design/_designDoc

[reqmgr]
url = https://cmsweb.cern.ch/couchdb/reqmgr_workload_cache/

[workflows]
source_db = http://vocms074:5984/requests/
source_db_changes = http://vocms074:5984/requests/_changes?since
fetch_fields = TotalEvents, OutputDatasets, PrepID, RequestName, RequestType, EventNumberHistory, RequestTransition, ProcessingString
mapping = {"properties":{"PrepID": {"type": "text", "analyzer": "keyword"}}}
pmp_index = workflows/
pmp_type = workflow/

[rereco_requests]
source_db =
source_db_changes =
fetch_fields = 
mapping = {"properties":{"prepid": {"type": "text", "analyzer": "keyword"}, "member_of_campaign": {"type": "text", "analyzer": "keyword"}}}
pmp_index = rereco_requests/
pmp_type = rereco_request/

[rereco_campaigns]
source_db = 
source_db_changes = 
fetch_fields = 
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = rereco_campaigns/
pmp_type = rereco_campaign/

[relval_requests]
source_db =
source_db_changes =
fetch_fields = 
mapping = {"properties":{"prepid": {"type": "text", "analyzer": "keyword"}, "member_of_campaign": {"type": "text", "analyzer": "keyword"}}}
pmp_index = relval_requests/
pmp_type = relval_request/

[relval_campaigns]
source_db = 
source_db_changes = 
fetch_fields = 
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = relval_campaigns/
pmp_type = relval_campaign/

[relval_cmssw_versions]
source_db =
source_db_changes =
fetch_fields = 
mapping = {"properties": {"type": "text", "analyzer": "keyword"}}
pmp_index = relval_cmssw_versions/
pmp_type = relval_cmssw_version/

[requests]
source_db = https://cms-pdmv.cern.ch/mcm/admin/requests/
source_db_changes = https://cms-pdmv.cern.ch/mcm/admin/requests/_changes?since
fetch_fields = history, member_of_campaign, output_dataset, prepid, priority, pwg, reqmgr_name, status, time_event, total_events, flown_with, member_of_chain, reqmgr_status_history, tags, dataset_name, ppd_tags
mapping = {"properties": {"member_of_campaign": {"type": "text", "analyzer": "keyword"}, "flown_with": {"type": "text", "analyzer": "keyword"}, "tags": {"type": "text", "analyzer": "keyword"}, "prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = requests/
pmp_type = request/

[chained_requests]
source_db = https://cms-pdmv.cern.ch/mcm/admin/chained_requests/
source_db_changes = https://cms-pdmv.cern.ch/mcm/admin/chained_requests/_changes?since
fetch_fields = chain, member_of_campaign, prepid
mapping = {"properties": {"member_of_campaign": {"type": "text", "analyzer": "keyword", "prepid": {"type": "text", "analyzer": "keyword"}}}}
pmp_index = chained_requests/
pmp_type = chained_request/

[campaigns]
source_db = https://cms-pdmv.cern.ch/mcm/admin/campaigns/
source_db_changes = https://cms-pdmv.cern.ch/mcm/admin/campaigns/_changes?since
fetch_fields = prepid
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = campaigns/
pmp_type = campaign/

[chained_campaigns]
source_db = https://cms-pdmv.cern.ch/mcm/admin/chained_campaigns/
source_db_changes = https://cms-pdmv.cern.ch/mcm/admin/chained_campaigns/_changes?since
fetch_fields = campaigns, prepid
mapping = {"properties": {"campaigns": {"type": "text", "analyzer": "keyword"}, "prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = chained_campaigns/
pmp_type = chained_campaign/

[flows]
source_db = https://cms-pdmv.cern.ch/mcm/admin/flows/
source_db_changes = https://cms-pdmv.cern.ch/mcm/admin/flows/_changes?since
fetch_fields = prepid
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = flows/
pmp_type = flow/

[processing_strings]
source_db =
source_db_changes =
fetch_fields = 
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = processing_strings/
pmp_type = processing_string/

[tags]
source_db =
source_db_changes =
fetch_fields = 
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = tags/
pmp_type = tag/

[ppd_tags]
source_db =
source_db_changes =
fetch_fields =
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = ppd_tags/
pmp_type = ppd_tag/

[mcm_dataset_name]
source_db =
source_db_changes =
fetch_fields =
mapping = {"properties": {"prepid": {"type": "text", "analyzer": "keyword"}}}
pmp_index = mcm_dataset_names/
pmp_type = mcm_dataset_name/

