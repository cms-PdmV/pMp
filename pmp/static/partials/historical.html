<div class="row" ng-hide="loadingData || !data || data.length == 0">
  <div class="col-sm-12 text-center spacing pb-4" id="measure">
    <linear-lifetime data="data"
                     zoom-y="zoomY"
                     human-readable-numbers="humanReadable"
                     big-number-formatter="formatBigNumber"
                     class="spacing"><div class="historical-drilldown" id="historical-drilldown"></div></linear-lifetime>
    <div ng-if="listSubmitted.length != 0">
      <p class="mt-4">
        List of requests (<b>{{listSubmitted.length}}</b>) in status <b>submitted</b>
      </p>
      <div ng-repeat="submitted in listSubmitted" class="row zebra-lines small-padding">
        <div class="col-sm-4">
          <a ng-href="{{submitted.url}}" target="_blank">{{submitted.prepid}}</a>
          <br><small>{{submitted.dataset}}</small>
          <small title="Number of events estimated from {{submitted.estimated_from}}" style="color:red" ng-if="submitted.estimated_from"><br>(Estimate from {{submitted.estimated_from}})</small>
        </div>
        <div ng-if="!humanReadable" class="col-sm-2">
          Expected: <b>{{submitted.expected}}</b>
        </div>
        <div ng-if="humanReadable" class="col-sm-2">
          Expected: <b title="{{submitted.expected}}">{{submitted.expected | readableNumbers}}</b>
        </div>
        <div ng-if="!humanReadable" class="col-sm-2">
          Produced: <b>{{submitted.done}}</b>
          <small title="Force completed" style="color:red" ng-if="submitted.force_completed">(FC)</small>
        </div>
        <div ng-if="humanReadable" class="col-sm-2">
          Produced: <b title="{{submitted.done}}">{{submitted.done | readableNumbers}}</b>
          <small title="Force completed" style="color:red" ng-if="submitted.force_completed">(FC)</small>
        </div>
        <div class="col-sm-2">
          <div class="progress total-bar">
            <div class="font-shadow progress-bar pmp-orange"
                 ng-class="{'pmp-red': submitted.output_dataset_status == 'INVALID' || submitted.output_dataset_status == 'DELETED',
                            'pmp-blue': submitted.output_dataset_status == 'VALID',
                            'pmp-orange': submitted.output_dataset_status == 'PRODUCTION'}"
                 role="progressbar"
                 aria-valuemin="0"
                 aria-valuemax="100"
                 title="{{submitted.output_dataset}} is {{submitted.output_dataset_status}} at {{submitted.perc | readableNumbers}}%"
                 style="color: black;
                        max-width: 100%;
                        width:{{submitted.perc}}%;">
              {{submitted.perc | readableNumbers}}%
            </div>
          </div>
        </div>
        <div class="col-sm-2">
          <a ng-if="submitted.output_dataset" ng-href="https://cmsweb.cern.ch/das/request?view=list&limit=50&instance=prod/global&input=dataset={{submitted.output_dataset}}" target="_blank">Dataset in DAS</a>
        </div>
      </div>
    </div>

    <div ng-if="showDoneRequestsList && listDone.length != 0">
      <p class="mt-4">
        List of requests (<b>{{listDone.length}}</b>) in status <b>done</b>
      </p>
      <div ng-repeat="done in listDone" class="row zebra-lines small-padding">
        <div class="col-sm-4">
          <a ng-href="{{done.url}}" target="_blank">{{done.prepid}}</a>
          <br><small>{{done.dataset}}</small>
          <small title="Number of events estimated from {{done.estimated_from}}" style="color:red" ng-if="done.estimated_from"><br>(Estimate from {{done.estimated_from}})</small>
        </div>
        <div ng-if="!humanReadable" class="col-sm-2">
          Expected: <b>{{done.expected}}</b>
        </div>
        <div ng-if="humanReadable" class="col-sm-2">
          Expected: <b title="{{done.expected}}">{{done.expected | readableNumbers}}</b>
        </div>
        <div ng-if="!humanReadable" class="col-sm-2">
          Done: <b>{{done.done}}</b>
          <small title="Force completed" style="color:red" ng-if="done.force_completed">(FC)</small>
        </div>
        <div ng-if="humanReadable" class="col-sm-2">
          Done: <b title="{{done.done}}">{{done.done | readableNumbers}}</b>
          <small title="Force completed" style="color:red" ng-if="done.force_completed">(FC)</small>
        </div>
        <div class="col-sm-2">
          <div class="progress total-bar">
            <div class="font-shadow progress-bar pmp-blue"
                 ng-class="{'pmp-red': done.output_dataset_status == 'INVALID' || done.output_dataset_status == 'DELETED',
                            'pmp-blue': done.output_dataset_status == 'VALID',
                            'pmp-orange': done.output_dataset_status == 'PRODUCTION'}"
                 role="progressbar"
                 aria-valuemin="0"
                 aria-valuemax="100"
                 title="{{done.output_dataset}} is {{done.output_dataset_status}} at {{done.perc | readableNumbers}}%"
                 style="color: black;
                        max-width: 100%;
                        width:{{done.perc}}%;">
              {{done.perc | readableNumbers}}%
            </div>
          </div>
        </div>
        <div class="col-sm-2">
          <a ng-if="done.output_dataset" ng-href="https://cmsweb.cern.ch/das/request?view=list&limit=50&instance=prod/global&input=dataset={{done.output_dataset}}" target="_blank">Dataset in DAS</a>
        </div>
      </div>
    </div>
  </div>
</div>
